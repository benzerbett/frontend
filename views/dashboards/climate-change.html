{% extends "base.html" %}

{% block title%}Climate Change Dashboard{% endblock %}

{% block bodyclass %}textual awesome{% endblock %}

{% block content %}
<!-- awesome page test placeholder -->
<div class="container">
  <div class="inner_container">
    <div class="page-header">
      <h1>
        Climate Change Dashboard
        <br/>
        <small>State of the World and Impacts of Global Climate Change.</small>
      </h1>
    </div>

    <ul class="nav nav-pills">
      <li class="active"><a data-toggle="pill" href="#state-of-the-world">State of the World</a></li>
      <li><a data-toggle="pill" href="#population" onclick="loadIframes(this)">Population</a></li>
      <li><a data-toggle="pill" href="#impact" onclick="loadIframes(this)">Impact</a></li>
    </ul>

    <div class="tab-content">
      <div id="state-of-the-world" class="tab-pane fade in active">
        <div class="row">
          <!-- Trends of CO2 -->
          <div class="col-md-6">
            <div class="panel panel-default">
              <div class="panel-heading">
                Trends of CO2 PPM from 1958 to the latest available date (Mauna Loa series)
              </div>
              <div class="panel-body">
                <iframe data-src="http://localhost:4000/core/co2-ppm/view/0" width="100%" height="475px" frameborder="0"></iframe>
              </div>
              <div class="panel-footer"><a href="/core/co2-ppm">Explore this dataset &raquo;</a></div>
            </div>
          </div>
          <!-- End of Trends of CO2 -->
          <!-- Growth rate of CO2 level -->
          <div class="col-md-6">
            <div class="panel panel-default">
              <div class="panel-heading">
                Annual growth rate of CO2 level (Mauna Loa series)
              </div>
              <div class="panel-body">
                <iframe data-src="http://localhost:4000/core/co2-ppm/view/1" width="100%" height="475px" frameborder="0"></iframe>
              </div>
              <div class="panel-footer"><a href="/core/co2-ppm">Explore this dataset &raquo;</a></div>
            </div>
          </div>
          <!-- End of Growth rate of CO2 level -->
        </div>
        <div class="row">
          <!-- Global CO2 Emissions from Fossil Fuels -->
          <div class="col-md-6">
            <div class="panel panel-default">
              <div class="panel-heading">
                Global CO2 Emissions from Fossil Fuels (~99% of total CO2 Emisions)
              </div>
              <div class="panel-body">
                <iframe data-src="http://localhost:4000/core/co2-fossil-global/view/0" width="100%" height="475px" frameborder="0"></iframe>
              </div>
              <div class="panel-footer"><a href="/core/co2-fossil-global">Explore this dataset &raquo;</a></div>
            </div>
          </div>
          <!-- End of Global CO2 Emissions from Fossil Fuels -->
          <!-- Growth rate of CO2 emissions per capita -->
          <div class="col-md-6">
            <div class="panel panel-default">
              <div class="panel-heading">
                Global growth rate of CO2 emissions from Fossil Fuels per Capita
              </div>
              <div class="panel-body">
                <iframe data-src="http://localhost:4000/core/co2-fossil-global/view/1" width="100%" height="475px" frameborder="0"></iframe>
              </div>
              <div class="panel-footer"><a href="/core/co2-fossil-global">Explore this dataset &raquo;</a></div>
            </div>
          </div>
          <!-- End of Growth rate of CO2 emissions per capita -->
        </div>
      </div>

      <div id="population" class="tab-pane fade">
        <div class="row">
          <div class="col-md-5">
            <!-- Countries by carbon emission in 2014 -->
            <div class="panel panel-default">
              <div class="panel-heading">
                Which countries had most of carbon emission in 2014?
              </div>
              <div class="panel-body">
                <iframe data-src="http://localhost:4000/core/co2-fossil-by-nation/view/0" width="100%" height="475px" frameborder="0"></iframe>
              </div>
              <div class="panel-footer"><a href="/core/co2-fossil-by-nation">Explore this dataset &raquo;</a></div>
            </div>
            <!-- End of Countries by carbon emission in 2014 -->
            <!-- Countries by carbon emission per capita in 2014 -->
            <div class="panel panel-default">
              <div class="panel-heading">
                Which countries had most per capita carbon emission in 2014?
              </div>
              <div class="panel-body">
                <iframe data-src="http://localhost:4000/core/co2-fossil-by-nation/view/3" width="100%" height="475px" frameborder="0"></iframe>
              </div>
              <div class="panel-footer"><a href="/core/co2-fossil-by-nation">Explore this dataset &raquo;</a></div>
            </div>
            <!-- End of Countries by carbon emission per capita in 2014 -->
          </div>
          <div class="col-md-4">
            <!-- Carbon emission trend in China -->
            <div class="panel panel-default">
              <div class="panel-heading">
                What is carbon emission trend in China?
              </div>
              <div class="panel-body">
                <iframe data-src="http://localhost:4000/core/co2-fossil-by-nation/view/1" width="100%" height="475px" frameborder="0"></iframe>
              </div>
              <div class="panel-footer"><a href="/core/co2-fossil-by-nation">Explore this dataset &raquo;</a></div>
            </div>
            <!-- End of Carbon emission trend in China -->
            <!-- Carbon emission trend in USA -->
            <div class="panel panel-default">
              <div class="panel-heading">
                What is carbon emission trend in the USA?
              </div>
              <div class="panel-body">
                <iframe data-src="http://localhost:4000/core/co2-fossil-by-nation/view/2" width="100%" height="475px" frameborder="0"></iframe>
              </div>
              <div class="panel-footer"><a href="/core/co2-fossil-by-nation">Explore this dataset &raquo;</a></div>
            </div>
            <!-- End of Carbon emission trend in USA -->
          </div>
          <div class="col-md-3">
            <!-- China population trend -->
            <div class="panel panel-default">
              <div class="panel-heading">
                China population trend
              </div>
              <div class="panel-body">
                <iframe data-src="http://localhost:4000/core/population/view/1" width="100%" height="475px" frameborder="0"></iframe>
              </div>
              <div class="panel-footer"><a href="/core/population">Explore this dataset &raquo;</a></div>
            </div>
            <!-- End of China population trend -->
            <!-- USA population trend -->
            <div class="panel panel-default">
              <div class="panel-heading">
                US population trend
              </div>
              <div class="panel-body">
                <iframe data-src="http://localhost:4000/core/population/view/2" width="100%" height="475px" frameborder="0"></iframe>
              </div>
              <div class="panel-footer"><a href="/core/population">Explore this dataset &raquo;</a></div>
            </div>
            <!-- End of USA population trend -->
            <!-- World population trend -->
            <div class="panel panel-default">
              <div class="panel-heading">
                World population trend
              </div>
              <div class="panel-body">
                <iframe data-src="http://localhost:4000/core/population/view/0" width="100%" height="475px" frameborder="0"></iframe>
              </div>
              <div class="panel-footer"><a href="/core/population">Explore this dataset &raquo;</a></div>
            </div>
            <!-- End of World population trend -->
          </div>
        </div>
      </div>

      <div id="impact" class="tab-pane fade">
        <div class="row">
          <!-- Global temparature -->
          <div class="col-md-4">
            <div class="panel panel-default">
              <div class="panel-heading">
                Global temperature
              </div>
              <div class="panel-body">
                <iframe data-src="http://localhost:4000/core/global-temp/view/0" width="100%" height="475px" frameborder="0"></iframe>
              </div>
              <div class="panel-footer"><a href="/core/global-temp">Explore this dataset &raquo;</a></div>
            </div>
          </div>
          <!-- End of Global temparature -->
          <!-- Change in the mass balance of Glaciers -->
          <div class="col-md-4">
            <div class="panel panel-default">
              <div class="panel-heading">
                Mass of glacier
              </div>
              <div class="panel-body">
                <iframe data-src="http://localhost:4000/core/glacier-mass-balance/view/0" width="100%" height="475px" frameborder="0"></iframe>
              </div>
              <div class="panel-footer"><a href="/core/glacier-mass-balance">Explore this dataset &raquo;</a></div>
            </div>
          </div>
          <!-- End of Change in the mass balance of Glaciers -->
          <!-- Change in sea level -->
          <div class="col-md-4">
            <div class="panel panel-default">
              <div class="panel-heading">
                Sea level rise
              </div>
              <div class="panel-body">
                <iframe data-src="http://localhost:4000/core/sea-level-rise/view/0" width="100%" height="475px" frameborder="0"></iframe>
              </div>
              <div class="panel-footer"><a href="/core/sea-level-rise">Explore this dataset &raquo;</a></div>
            </div>
          </div>
          <!-- End of Change in sea level -->
        </div>
      </div>
    </div>
  </div>
</div>

{% endblock %}

{% block scripts %}
<script>
  function loadIframes(el) {
    var tab = document.getElementById(el.getAttribute('href').substring(1));
    var iframes = tab.querySelectorAll('iframe');
    for (var i=0; i<iframes.length; i++) {
      if (!iframes[i].src) {
        iframes[i].src = iframes[i].dataset.src;
      }
    }
  }

  var activeTab = document.querySelectorAll('li.active')[0].querySelectorAll('a')[0];
  loadIframes(activeTab);
</script>
{% endblock %}
